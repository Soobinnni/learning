# 컨테이너

### 개념 및 특징

<img src="https://github.com/Soobinnni/learning/assets/111328823/81650bb4-6268-4af2-825b-203ab8cd9f0a" width="400" /><br>

    Host OS(물리적 서버) 위에 논리적인 구획(컨테이너)을 만들고 애플리케이션과 그 종속성(라이브러리, 설정, 환경 변수 등)을 패키지화하는 기술


- 컨테이너는 하나의 작은 소프트웨어 유닛으로, 애플리케이션과 필요한 시스템 도구 및 디펜던시를 하나로 묶는다. 즉 컨테이너 하나에 필요한 것이 패키지화되어 있기 때문에 그 하나가 별도의 서버인 것처럼 사용할 수 있다. 

- 개발자는 컨테이너에 필요한 모든 구성을 포함시켜 애플리케이션을 개발하고 테스트한 후, 그 컨테이너를 어떤 PC나 서버에서도 언제든지 동일하게 실행할 수 있게 된다.

- ***예시***
    - Node.js 프로젝트를 배포하려면 클라이언트 컴퓨터에는 Node.js, npm, 외부 라이브러리 및 환경 변수 설정이 필요
        
        → 이러한 구성 요소를 각 환경에 맞게 일일이 설치하고 구성하는 것은 복잡하고 오류 가능성이 높음 
        
        → 컨테이너는 애플리케이션과 필요한 구성을 독립된 단위로 패키지화하여 어떤 환경에서도 일관되게 실행할 수 있도록 한다.

### Container Engine
- 컨테이너를 구동시키기 위해 Container Engine이 필요하며, Container Engine이 Host OS에 접근하여 필요한 것을 처리한다.

- 하나의 호스트OS에 여러개의 컨테이너를 올릴 수 있고, 해당 호스트OS의 자원을 나눠서 사용하게 된다. 즉 컨테이너 자체에는 OS가 없고, 호스트OS의 커널을 컨테이너가 공유받는다.

- Container Engine 중 가장 많이 사용되는 것 중 하나가 [Docker]()
        

<br>

## cf. VM

가상 머신(VM, Virtual Machine)과 컨테이너(Docker 등)는 애플리케이션 실행 환경을 격리하고 관리하는 데 사용되는 기술이지만, 그 동작 방식과 특징에 차이가 있다.


### 요약
1) 이미지 요약

    ![VM vs Container](https://github.com/Soobinnni/learning/assets/111328823/6acb636c-8aee-4c6a-abe6-3e6f55cedd9d)

<br>

2) 표 요약
    |  | VM | 컨테이너 |
    | --- | --- | --- |
    | 가상화 수준 | 高 |  |
    | 격리 | 高 |  |
    | 자원사용 | 高 |  |
    | 이식성 |  | 高 |
    | 관리 및 배포 |  | 高 |

<br>

3) 텍스트 요약 
    
    VM은 더 격리된 환경을 제공하며 더 강력한 보안을 요구하지만 자원 소모가 크고 무거움.
    
    반면 컨테이너는 호스트OS의 커널을 컨테이너가 공유받기 때문에 가볍고 이식성이 뛰어나며 빠르게 시작할 수 있음

    하지만 보안 및 격리 수준은 VM보다 낮을 수 있어 사용 사례와 요구 사항에 따라 어떤 것을 선택할 지 상황에 따라 다름
   <br><br>


4) 참고
   - **[VM](https://github.com/Soobinnni/learning/blob/main/container/more/VM.md)**
   - **[Hypervisor](https://github.com/Soobinnni/learning/blob/main/container/more/Hypervisor.md)**     
   - **[호스트 운영 체제와 커널](https://github.com/Soobinnni/learning/blob/main/container/more/%ED%98%B8%EC%8A%A4%ED%8A%B8%20%EC%9A%B4%EC%98%81%20%EC%B2%B4%EC%A0%9C%EC%99%80%20%EC%BB%A4%EB%84%90.md)**    

<br>
<br>
<br>


**가상화 수준**

- 가상 머신은 하이퍼바이저를 사용하여 물리적 하드웨어 위에 가상화된 하드웨어 계층을 만듦. 각 VM은 자체 운영 체제(Guest OS)를 실행하며, 이 운영 체제는 하드웨어 자원을 독립적으로 사용(따라서 가상 머신마다 커널이 다름).
- 컨테이너: 컨테이너는 (가상 하드웨어를 만들지 않고)호스트 운영 체제 커널을 공유한다. Container Engine이라는 소프트웨어만 설치하면 개별적인 컨테이너를 만들어 각각의 어플리케이션을 고립된 환경에서 구동할 수 있도록 한다. 따라서 가상화 수준이 VM보다 더 가벼우며, 가상 머신보다 빠르게 시작됨.

**격리**

- VM: VM은 완전히 격리되며, 각 VM은 자체 운영 체제와 자원을 가져 이로 인해 보안이 강화되지만 자원 소모가 크며, 시작 시간이 오래 걸림.
- 컨테이너: 컨테이너는 운영 체제 커널을 공유하므로 격리 수준이 상대적으로 낮음.

**자원 사용**

- VM: VM은 각각의 운영 체제를 실행하므로 메모리, 디스크 공간 및 CPU 자원을 별도로 할당받아야 함.
- 컨테이너: 컨테이너는 호스트 운영 체제와 커널을 공유하므로 자원 소모가 적고 더 효율적인 자원 사용이 가능하며, 여러 컨테이너를 동시에 실행할 때 높은 밀도를 가질 수 있음.
    
    

**이식성**

- VM: VM 이미지는 특정 하이퍼바이저에 종속적이므로 이식성이 낮음
- 컨테이너: 컨테이너 이미지는 독립적이며, 거의 모든 호스트에서 실행될 수 있어서 이식성이 높음

**관리 및 배포**

- VM: VM 관리 및 배포는 상대적으로 복잡하며 VM 이미지가 크고 관리가 어려울 수 있음.
- 컨테이너: 컨테이너는 이미지로 패키지되고, 이 이미지를 사용하여 애플리케이션을 쉽게 배포하고 관리할 수 있음( Docker 및 Kubernetes와 같은 도구를 사용하면 컨테이너 관리가 효과적으로 이루어짐)