# input 블록: 데이터 입력 소스를 정의
input {
    # tcp 입력 플러그인 사용
    tcp {
        # 수신 대기할 포트 번호 설정
        port => 5044   # TCP 포트 5044에서 데이터를 수신
        # 수신한 데이터의 포맷을 JSON으로 지정
        codec => json  # 들어오는 데이터가 JSON 형식으로 인코딩되어 있다고 가정
    }
}

# output 블록: 데이터 출력 대상 정의
output {
    # elasticsearch 출력 플러그인 사용
    elasticsearch {
        # Elasticsearch 호스트 목록 (여기서는 Docker 컨테이너 내의 Elasticsearch 서비스)
        hosts => ["http://elasticsearch:9200"]   # Elasticsearch 서비스의 호스트 URL 설정
        # 데이터가 저장될 Elasticsearch 인덱스 이름 지정
        # 날짜를 포함하여 인덱스 이름을 생성 (예: application-logs-2025.03.28)
        index => "application-logs-%{+YYYY.MM.dd}"  # 날짜 형식에 맞춰 인덱스 이름 지정
    }
}